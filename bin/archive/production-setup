#!/bin/bash

set -o errexit
set -o nounset

echo "ğŸš€ Starting production setup..."

# Step 1: Run migrations
echo "1ï¸âƒ£ Running database migrations..."
python manage.py migrate --no-input

# Step 2: Import themes
echo "2ï¸âƒ£ Importing themes from design system..."
python manage.py import_themes --overwrite

# Step 3: Create superuser with site manager permissions  
echo "3ï¸âƒ£ Creating master admin user..."
python manage.py create_superuser_site_manager --username=admin --email=admin@company.com --password=secure123

# Step 4: Collect static files
echo "4ï¸âƒ£ Collecting static files..."
python manage.py collectstatic --no-input

echo "âœ… Production setup complete!"
echo ""
echo "ğŸ”‘ Admin Login Credentials:"
echo "   URL: /admin/"
echo "   Username: admin"  
echo "   Password: secure123"
echo ""
echo "ğŸ¨ Your admin user has Site Manager permissions and can:"
echo "   â€¢ Access Site Admin dashboard"
echo "   â€¢ Use Theme Customizer"
echo "   â€¢ Edit CMS content (on CMS pages)"
echo "   â€¢ Access all admin features" 